<!DOCTYPE html>
<html>
<head>
    <title>RhythmRadar</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: black;
            color: #FFFFFF
        }
    
        h1 {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 30px;
            font-weight: 600;
            font-size: 40px;
            color: #1DB954;
        }

        h2 {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 24px;
            color: #1DB954;
        }
    
        .form-group label, .track-info label {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 5px;
            color: #1DB954;
        }
    
        .form-control {
            border-radius: 5px;
            border: none;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
    
        .form-control:focus {
            border: none;
            outline: none;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }
    
        button.btn {
            background-color: #1DB954;
            border-radius: 3px;
            border: none;
            color: #FFFFFF;
            font-size: 14px; /* Adjusted font size */
            font-weight: 600;
            padding: 8px 16px; /* Adjusted padding */
            margin-top: 10px;
            margin-bottom: 20px; /* Adjusted margin */
            box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2); /* Adjusted box shadow */
        }

        .button-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .square-btn {
            width: 170px;
            height: 70px;
            border-radius: 5%;
            font-size: 12px;
            margin: 40px 15px;
            background-color: #1DB954;
            border: none;
            color: #FFFFFF;
            font-weight: 600;
            box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2);
        }
    
        button.btn:hover {
            background-color: #1DB954;
        }
    
        .track-info label {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 1px;
            display: block;
        }
    
        .track-info span {
            font-weight: 600;
            font-size: 18px;
        }
        
        .table-container {
            margin-top: 5px; /* Adjusted margin-top */
            margin-bottom: 5px; /* Adjusted margin-bottom */
        }
        
        table {
            width: 100%;
            margin-bottom: 10px;
        }

        table th,
        table td {
            padding: 5px; /* Adjusted padding */
            border: 1px solid #ccc;
            text-align: left;
            font-size: 12px; /* Adjusted font size */
        }

        table th {
            background-color: #1DB954;
            color: white;
            font-weight: bold;
        }

        .prediction-value {
            background-color: #cbcecb;
            border-radius: 5px;
            padding: 8px; /* Adjusted padding */
            font-size: 20px; /* Adjusted font size */
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .nav-tabs .nav-link {
            background-color: lightgrey; /* Adjust the color as desired */
            color: rgb(0, 0, 0);
            margin-right: 5px; /* Added margin between tabs */
            font-size: 14px; /* Adjusted font size */
            padding: 5px 8px; /* Adjusted padding */
        }

        .nav-tabs .nav-link.active {
            background-color: darkgrey;
            color: white;
        }

        .nav-tabs .nav-link:hover {
            background-color: #A9A9A9; /* Adjust the color as desired */
            color: white;
            font-size: 14px; /* Adjusted font size */
        }
        .form-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* Stack the children vertically */
            background-color: white;
            border-radius: 5px;
            padding: 20px; /* Adjust padding as required */
            }


    </style>
    <script>
        function submitFormAndSwitchTab(tabId) {
            // Submit the form
            document.querySelector("form").submit();
    
            // Navigate to tab with given ID
            document.querySelector(".nav-link.active").classList.remove("active"); // Remove the active class from the current active tab
            document.querySelector(tabId).classList.add("active"); // Add the active class to the tab with the given ID
            document.querySelector(tabId).click(); // Trigger a click event on the tab to display its content
        }
    </script>         
</head>
<body>
    <div class="container mt-5">
        <h1>
            <img src="/static/images/music.png" alt="Music" width="50" height="50" style="vertical-align: middle;">
            RhythmRadar
        </h1>
        
        <!-- Tabs navigation -->
        <ul class="nav nav-tabs" id="myTabs">
            <li class="nav-item">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="hit-flop-tab" data-toggle="tab" href="#hit-flop">Hit/Flop Predictor</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="social-media-tab" data-toggle="tab" href="#social-media">Social Media Appearance Predictor</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="statistics-tab" data-toggle="tab" href="#statistics">Statistics</a>
            </li>
        </ul>
        
        <!-- Tab content -->
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="home">
                <div class="mt-5 text-center">
                    <h2>Welcome to RhythmRadar!</h2>
                </div>
                <div style="text-align: center; margin: 0 auto; max-width: 800px;">
                    <p style="font-size: 14px;">Our app offers three exciting features to help you navigate the world of music. The Hit/Flop Predictor analyzes various factors to estimate a track's potential popularity. The Social Media Appearance Predictor assesses an artist's online impact and engagement. The Track Improvement Coach provides detailed analytics and suggestions to enhance your music tracks. Explore these features and take your music experience to new heights with RhythmRadar! Enjoy your journey into the world of music analytics!</p>
                </div>
                <div class="form-container">
                    <form action="/getdata" method="post" style="display: inline-block;">
                        <div class="form-group" style="display: inline-block; text-align: center; margin: 0 auto; max-width: 500px;">
                          <label for="track-id-input" style="display: block; font-size: 16px;">Insert your track ID and try out our app's functionality!</label>
                          <input type="text" class="form-control" id="track-id-input" name="track-id-input" required>
                        </div>
                        <div class="button-wrapper">
                          <button class="square-btn" onclick="submitFormAndSwitchTab('hit-flop')" type="submit">Predict Popularity</button>
                          <button class="square-btn" onclick="switchToTab('social-media')">Predict Social Media Appearance</button>
                          <button class="square-btn" onclick="switchToTab('statistics')">Track Improvement Coach</button>
                        </div>
                      </form>
                </div>                         
            </div>            
        
            <div class="tab-pane fade" id="hit-flop">
                <div class="form-group">
                    <label for="track-id-prediction">Prediction:</label>
                    <span class="prediction-value" id="prediction">{{ prediction }}</span>
                </div>
                <img src="{{'App/static/images/feature_graph.png'}}" alt="Plot">
                <div class="form-group">
                    <label for="track-id-output">Track Information:</label>
                    <div class="table-container mt-2">
                        <table>
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                                <tr>
                                    <td>Danceability</td>
                                    <td id="danceability">{{ danceability }}</td>
                                </tr>
                                <tr>
                                    <td>Energy</td>
                                    <td id="energy">{{ energy }}</td>
                                </tr>
                                <tr>
                                    <td>Key</td>
                                    <td id="key">{{ key }}</td>
                                </tr>
                                <tr>
                                    <td>Loudness</td>
                                    <td id="loudness">{{ loudness }}</td>
                                </tr>
                                <tr>
                                    <td>Mode</td>
                                    <td id="mode">{{ mode }}</td>
                                </tr>
                                <tr>
                                    <td>Speechiness</td>
                                    <td id="speechiness">{{ speechiness }}</td>
                                </tr>
                                <tr>
                                    <td>Acousticness</td>
                                    <td id="acousticness">{{ acousticness }}</td>
                                </tr>
                                <tr>
                                    <td>Instrumentalness</td>
                                    <td id="instrumentalness">{{ instrumentalness }}</td>
                                </tr>
                                <tr>
                                    <td>Liveness</td>
                                    <td id="liveness">{{ liveness }}</td>
                                </tr>
                                <tr>
                                    <td>Valence</td>
                                    <td id="valence">{{ valence }}</td>
                                </tr>
                                <tr>
                                    <td>Tempo</td>
                                    <td id="tempo">{{ tempo }}</td>
                                </tr>
                                <tr>
                                    <td>Time Signature</td>
                                    <td id="time_signature">{{ time_signature }}</td>
                                </tr>
                                <tr>
                                    <td>Chorus Hit</td>
                                    <td id="chorus_hit">{{ chorus_hit }}</td>
                                </tr>
                                <tr>
                                    <td>Sections</td>
                                    <td id="sections">{{ sections }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                </div>
            
                <div class="tab-pane fade" id="social-media">
                    <div class="mt-3">
                        <div class="form-group">
                            <label for="p3">page3</label>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="statistics">
                    <div class="mt-3">
                        <div class="form-group">
                            <label for="g1">Graph 1:</label>
                            <div id="graph-container">
                                <img src="/static/images/graph1.png" alt="Graph 1">
                            </div>
                            <label for="g2">Graph 2:</label>
                            <div id="graph-container">
                                <img src="/static/images/graph2.png" alt="Graph 2">
                            </div>
                            <label for="g3">Graph 3:</label>
                            <div id="graph-container">
                                <img src="/static/images/graph3.png" alt="Graph 3">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </body>
    </html>
