<!DOCTYPE html>
<html>
<head>
    <title>RhythmRadar</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" href="../static/images/music.ico">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-image: url('../static/images/background_crowd.jpeg') !important;
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
           
        }

        #graph-container { 
            max-width: 500px; /* Adjust the width as needed */ 
            margin: 0 auto; /* Center the container */ 
        } 
        
        #graph-container img { 
            max-width: 100%; /* Make the image responsive */ 
        }
    
        h1 {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 30px;
            font-weight: 600;
            font-size: 40px;
            color: #1DB954;
        }

        h2 {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 24px;
            color: #1DB954;
        }
        
        h3 {

            display: block; 
            text-align: left;
            margin-top: 50px;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 20px;
            color: #1DB954;
        }

        .form-group label, .track-info label {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 5px;
            color: #1DB954;
        }
    
        .form-control {
            border-radius: 5px;
            border: none;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
    
        .form-control:focus {
            border: none;
            outline: none;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }
    
        button.btn {
            background-color: #1DB954;
            border-radius: 3px;
            border: none;
            color: #FFFFFF;
            font-size: 14px; /* Adjusted font size */
            font-weight: 600;
            padding: 8px 16px; /* Adjusted padding */
            margin-top: 10px;
            margin-bottom: 20px; /* Adjusted margin */
            box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2); /* Adjusted box shadow */
        }

        .button-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .square-btn {
            width: 170px;
            height: 70px;
            border-radius: 5%;
            font-size: 12px;
            margin: 40px 15px;
            background-color: #1DB954;
            border: none;
            color: #FFFFFF;
            font-weight: 600;
            box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.2);
        }
    
        button.btn:hover {
            background-color: #1DB954;
        }
    
        .track-info label {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 1px;
            display: block;
        }
    
        .track-info span {
            font-weight: 600;
            font-size: 18px;
        }
        
        .table-container {
            margin-top: 5px; /* Adjusted margin-top */
            margin-bottom: 5px; /* Adjusted margin-bottom */
            background-color: rgba(27, 27, 27, 0.8);
            color: white;
        }
        
        table {
            width: 100%;
            margin-bottom: 10px;
        }

        table th,
        table td {
            padding: 5px; /* Adjusted padding */
            border: 1px solid #ccc;
            text-align: left;
            font-size: 12px; /* Adjusted font size */
        }

        table th {
            background-color: #1DB954;
            color: white;
            font-weight: bold;
        }

        .prediction-value {
            background-color: #cbcecb;
            border-radius: 5px;
            padding: 8px; /* Adjusted padding */
            font-size: 20px; /* Adjusted font size */
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .nav-tabs .nav-link {
            background-color: rgb(78, 78, 78);
            color: white;
            margin-right: 5px;
            font-size: 14px;
            padding: 5px 8px;
            border-color:rgb(78, 78, 78); /* Updated border color */
            border-bottom-color: white
        }

        .nav-tabs .nav-link.active {
            background-color: #1DB954;
            color: white;
            border-color: #389F59; /* Updated border color */
            border-bottom-color: #389F59
        }

        .nav-tabs .nav-link:hover {
            background-color: #389F59;
            color: white;
            font-size: 14px;
            border-color: #389F59; /* Updated border color */
            border-bottom-color: #389F59
        }
        .form-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column; /* Stack the children vertically */
            background-color: white;
            border-radius: 5px;
            padding: 20px; /* Adjust padding as required */
            }

         .semitransparent-box {
            background-color: rgba(27, 27, 27, 0.8); /* Change the color and transparency as needed */
            padding: 10px; /* Adjust as needed */
            border-radius: 10px; /* Adjust as needed */
            }

    </style>
    <script>
        function submit123(number) {
            localStorage.setItem("tabNumber", number); // Save the number in local storage
            document.getElementById("form").submit();
        }

        // Add event listener for page load
        window.addEventListener('load', function() {
            var tabNumber = localStorage.getItem("tabNumber"); // Get the saved number from local storage
            if (tabNumber === null) {
                // Default tab number is 0 if no value is stored in local storage
                tabNumber = "0";
            }
            if (tabNumber === "0") {
                // Select the first tab after the page reloads
                document.getElementById("home-tab").click();
            } else if (tabNumber === "1") {
                // Select the second tab after the page reloads
                document.getElementById("hit-flop-tab").click();
            } else if (tabNumber === "2") {
                // Select the third tab after the page reloads
                document.getElementById("social-media-tab").click();
            } else if (tabNumber === "3") {
                // Select the third tab after the page reloads
                document.getElementById("statistics-tab").click();
            } 
        });
    </script>         
</head>
<body>
    <div class="container mt-5">
        <h1>
            <img src="/static/images/music.png" alt="Music" width="50" height="50" style="vertical-align: middle;">
            RhythmRadar
        </h1>
        
        <!-- Tabs navigation -->
        <ul class="nav nav-tabs" id="myTabs, margin-bottom: 5px">
            <li class="nav-item">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="hit-flop-tab" data-toggle="tab" href="#hit-flop">Hit/Flop Predictor</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="social-media-tab" data-toggle="tab" href="#social-media">Social Media Appearance Predictor</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="statistics-tab" data-toggle="tab" href="#statistics">Explore</a>
            </li>
        </ul>
        
        <!-- Tab content -->
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane semitransparent-box" id="home">
                <div class="mt-5 text-center">
                    <h1>Welcome to RhythmRadar!</h1>
                </div>
                <div style="text-align: center; margin: 0 auto; max-width: 800px;">
                    <p style="font-size: 14px; font-weight: 600; color: white;">Our app offers three exciting features to help you navigate the world of music. The Hit/Flop Predictor analyzes various factors to estimate a track's potential popularity. The Social Media Appearance Predictor assesses an artist's online impact and engagement. The Track Improvement Coach provides detailed analytics and suggestions to enhance your music tracks. Explore these features and take your music experience to new heights with RhythmRadar! Enjoy your journey into the world of music analytics!</p>
                </div>
                <div class="mt-5 text-center">
                    <div class="white-box" style="background-color: rgb(78, 78, 78, 0.3); padding: 20px; display: inline-block; border-radius: 5px">
                        <form action="/getdata" method="post" style="display: inline-block;">
                            <div class="form-group d-flex justify-content-between" style="text-align: center; margin: 0 auto; max-width: 500px;">
                                <div style="flex: 1; margin-right: 5px;">
                                    <label for="artist-input" style="display: block; font-size: 16px;">Artist</label>
                                    <input type="text" class="form-control" id="artist-input" name="artist-name-input" required>
                                </div>
                                <div style="flex: 1; margin-left: 5px;">
                                    <label for="track-id-input" style="display: block; font-size: 16px;">Track Name</label>
                                    <input type="text" class="form-control" id="track-id-input" name="track-id-input" required>
                                </div>
                            </div>
                            <div class="button-wrapper">
                                <button class="square-btn" onclick="submit123(1)">Predict Popularity</button>
                                <button class="square-btn" onclick="submit123(2)">Predict Social Media Appearance</button>
                                <button class="square-btn" onclick="submit123(3)">Track Improvement Coach</button>
                            </div>
                        </form>
                    </div>   
                </div>                         
            </div>            
        
            <div class="tab-pane fade" id="hit-flop">
                <div class="mt-3"> 
                    <div class="form-group">
                        <h3>
                            <label for="track-id-prediction">Prediction:</label>
                        </h3>
                        <span class="prediction-value" id="prediction" style="display: block; text-align: center; font-size: 24px; color: green;">{{ prediction | default("*") }}</span>
                    </div>
                        <img src="/static/images/feature_graph.png" alt="Plot" style="width: 100%; height: 50%;"><!-- to adjust the size of the image change width or height!-->
                        <p></p>
                        <h3>
                            <label for="track-id-output">Track Information:</label>
                        </h3>
                    <div class="table-container mt-2">
                        <table>
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                                <tr>
                                    <td>Danceability</td>
                                    <td id="danceability">{{ danceability }}</td>
                                </tr>
                                <tr>
                                    <td>Energy</td>
                                    <td id="energy">{{ energy }}</td>
                                </tr>
                                <tr>
                                    <td>Key</td>
                                    <td id="key">{{ key }}</td>
                                </tr>
                                <tr>
                                    <td>Loudness</td>
                                    <td id="loudness">{{ loudness }}</td>
                                </tr>
                                <tr>
                                    <td>Mode</td>
                                    <td id="mode">{{ mode }}</td>
                                </tr>
                                <tr>
                                    <td>Speechiness</td>
                                    <td id="speechiness">{{ speechiness }}</td>
                                </tr>
                                <tr>
                                    <td>Acousticness</td>
                                    <td id="acousticness">{{ acousticness }}</td>
                                </tr>
                                <tr>
                                    <td>Instrumentalness</td>
                                    <td id="instrumentalness">{{ instrumentalness }}</td>
                                </tr>
                                <tr>
                                    <td>Liveness</td>
                                    <td id="liveness">{{ liveness }}</td>
                                </tr>
                                <tr>
                                    <td>Valence</td>
                                    <td id="valence">{{ valence }}</td>
                                </tr>
                                <tr>
                                    <td>Tempo</td>
                                    <td id="tempo">{{ tempo }}</td>
                                </tr>
                                <tr>
                                    <td>Time Signature</td>
                                    <td id="time_signature">{{ time_signature }}</td>
                                </tr>
                                <tr>
                                    <td>Chorus Hit</td>
                                    <td id="chorus_hit">{{ chorus_hit }}</td>
                                </tr>
                                <tr>
                                    <td>Sections</td>
                                    <td id="sections">{{ sections }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p></p>
                    <h3>
                        <p; style="padding-bottom: 70px;">Recommendation: {{ output1 }}</p>
                    </h3>
                </div>    
            </div>
            
            <div class="tab-pane fade" id="social-media">
                <div class="mt-3">
                    <div class="form-group">
                        <label for="track-id-prediction">Social Media Success Prediction:</label>
                        <span class="prediction-value" id="prediction" style="display: block; text-align: center; font-size: 24px; color: green;">{{ prediction2 | default("*")}}</span>
                    </div>
                        <label for="track-id-output" style="color: #cbcecb;">Social Media Track Success:</label>
                <div class="table-container mt-2">
                    <table>
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                            <tr>
                                <td>Danceability</td>
                                <td id="danceability">{{ danceability }}</td>
                            </tr>
                            <tr>
                                <td>Energy</td>
                                <td id="energy">{{ energy }}</td>
                            </tr>
                            <tr>
                                <td>Key</td>
                                <td id="key">{{ key }}</td>
                            </tr>
                            <tr>
                                <td>Loudness</td>
                                <td id="loudness">{{ loudness }}</td>
                            </tr>
                            <tr>
                                <td>Mode</td>
                                <td id="mode">{{ mode }}</td>
                            </tr>
                            <tr>
                                <td>Speechiness</td>
                                <td id="speechiness">{{ speechiness }}</td>
                            </tr>
                            <tr>
                                <td>Acousticness</td>
                                <td id="acousticness">{{ acousticness }}</td>
                            </tr>
                            <tr>
                                <td>Instrumentalness</td>
                                <td id="instrumentalness">{{ instrumentalness }}</td>
                            </tr>
                            <tr>
                                <td>Liveness</td>
                                <td id="liveness">{{ liveness }}</td>
                            </tr>
                            <tr>
                                <td>Valence</td>
                                <td id="valence">{{ valence }}</td>
                            </tr>
                            <tr>
                                <td>Tempo</td>
                                <td id="tempo">{{ tempo }}</td>
                            </tr>
                            <tr>
                                <td>Time Signature</td>
                                <td id="time_signature">{{ time_signature }}</td>
                            </tr>
                            <tr>
                                <td>Chorus Hit</td>
                                <td id="chorus_hit">{{ chorus_hit }}</td>
                            </tr>
                            <tr>
                                <td>Sections</td>
                                <td id="sections">{{ sections }}</td>
                            </tr>
                        </tbody>
                    </table> 
                </div>
                <p></p>
                <p style="color: #cbcecb;">Recommendation: {{ output1 }}</p>
            </div>
            </div>

            <div class="tab-pane fade" id="statistics">
                <div class="mt-3">
                    <div class="form-group">
                        <div style="text-align: center;">
                            <label for="g1"><h4>Graph 1: Genre Heatmap</h4></label>
                            <div id="graph-container">
                                <img src="/static/images/genre_heatmap.png" alt="Mean Audio Features 1">
                                <div style="background-color: rgba(0, 0, 0, 0.5); padding: 20px;">
                                    <p></p>
                                    <p style="text-align: center; max-width: 800px; margin: 0 auto; color: #cbcecb;">
                                        This heatmap visually displays the distribution of genres across different eras, allowing for easy identification of prevalent and less common genres. It provides a clear snapshot of the evolving musical landscape over time, highlighting shifts in genre popularity. The heatmap offers a concise and informative overview of genre occurrences, enabling quick insights into the changing trends and dynamics of music throughout history.
                                    </p>
                                    <p></p>
                                </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <p></p>
                            <label for="g2"><h4>Graph 2: Features History</h4></label>
                            <div id="graph-container">
                                <img src="/static/images/features_history.png" alt="History of the Features of the Tracks">
                                <div style="background-color: rgba(0, 0, 0, 0.5); padding: 20px;">
                                    <p></p>
                                    <p style="text-align: center; max-width: 800px; margin: 0 auto; color: #cbcecb;">
                                        The graph illustrates the average values of various music features over time, capturing the evolution of these characteristics across different eras. The features plotted include seven key features. By visualizing these trends, the graph provides insights into the changing musical landscape and allows for the identification of patterns and shifts in the overall sound and feel of music throughout history. Especially the decrease of "Acousticness" and the increase of "Energy" are noticeable changes over time.
                                    </p>
                                    <p></p>
                                </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <p></p>
                            <label for="g3"><h4>Graph 3: Feature Genre Comparison</h4></label>
                            <div id="graph-container">
                                <img src="/static/images/feature_genre.png" alt="Genre of the Tracks">
                                <div style="background-color: rgba(0, 0, 0, 0.5); padding: 20px;">
                                    <p></p>
                                    <p style="text-align: center; max-width: 800px; margin: 0 auto; color: #cbcecb;">
                                        This visualization presents a comparison of average values for different music features across the different genres. By visualizing these averages in a grouped bar chart, the graph highlights the variations in these characteristics among different music genres, allowing for insights into the distinct musical styles and qualities associated with each genre.
                                    </p>
                                    <p></p>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </body>
    </html>
